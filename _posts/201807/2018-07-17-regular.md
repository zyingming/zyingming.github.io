---
layout: post
title:  "常见正则表达式及基础用法总结"
date:   2018-07-17 14:42:56
categories: javascript
tags: regular
marks: regular
icon: original
author: "zyingming"
---
正则在各种表单验证中必不可少，总是记了又忘，也怕自己写的正则匹配会有疏漏，所以每次写都是百度T_T，就想写一篇总结，烂记性不如好笔头。
## 基础知识
- 初始化：`var pattern1 = / pattern / flags`创建一个正则表达式，也可以通过`var pattern2 = new RegExp(pattern, flags)`两个参数都是字符串。
- 使用：`string.match(pattern1)`，也可以是`pattern1.test(string)`

### 1. 元字符
以下例子都是用`ee 33 fe`进行测试
- `^` 匹配字符串的起始位置
- `$` 匹配字符串的结尾
- `\b` 匹配单词边界， `\bee\b` 匹配到ee
- `\d` 匹配数字
- `\w` 匹配字母，数字，下划线
- `\s` 匹配空格
- `[a-z]`
- `.`
## 常见表达式
- 匹配手机号
- 匹配邮箱
- 匹配8-12位含数字和字母的密码

## 简单应用

### 使用sublime的正则查找
正则查找是sublime所支持的，所以不需要安装任何插件，只需要在左下角打开正则匹配。

![sublime 正则](/assets/images/pictures/2018-07/reg_1.jpg)

### `textarea`评论模块
评论时输入`<script></script>`等html节点也需要被展示出来，这时候就需要转义，例如将`<ul></ul>`转成`&lt;ul&gt;&lt;/ul&gt;`，才能成功提交给后台，而不被过滤掉。

```javascript
function encodeHtml(s) {
    var REGX_HTML_ENCODE = /"|&|'|<|>|[\x00-\x20]|[\x7F-\xFF]|[\u0100-\u2700]/g;
    return (typeof s != "string") ? s :
        s.replace(REGX_HTML_ENCODE, function($0) {
            var c = $0.charCodeAt(0),
                r = ["&#"];
            c = (c == 0x20) ? 0xA0 : c;
            r.push(c);
            r.push(";");
            return r.join("");
        });
};

```

### 相关资料
- [在线匹配正则工具网站](https://regexper.com/#%5Cd)

